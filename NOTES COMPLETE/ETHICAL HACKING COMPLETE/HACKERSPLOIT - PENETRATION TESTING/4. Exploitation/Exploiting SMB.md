---
title: Exploiting SMB
updated: 2023-03-24T15:43:28.0000000+04:00
created: 2023-01-27T07:58:07.0000000+04:00
---

Exploiting SMB
Friday, January 27, 2023
7:58 AM
**<u>Types of SMB Exploit</u>**

While there are vulnerabilities such as CVE-2017-7494 that can allow remote code execution by exploiting SMB, you're more likely to encounter a situation where the best way into a system is due to misconfigurations in the system. In this case, we're going to be exploiting anonymous SMB share access- a common misconfiguration that can allow us to gain information that will lead to a shell.

**<u>Method Breakdown</u>**

So, from our enumeration stage, we know:

\- The SMB share location

\- The name of an interesting SMB share

Tool to be used: **Smbclient**

| **Command** | smbclient //\[IP\]/\[SHARE\] |
|-------------|------------------------------|

Followed by the tags:

- -U \[name\] : to specify the user

- -p \[port\] : to specify the port

1.  What would be the correct syntax to access an SMB share called "secret" as user "suit" on a machine with the IP 10.10.10.2 on the default port?

- smbclient //10.10.10.2/secret -U suit -p 445

2.  Test if it accepts anonymous access

- Smbclient //IP_address/ -U anonymous

3.  To Download a file from the SMB

![image1](image1-29.png)

- Get "File Name"

