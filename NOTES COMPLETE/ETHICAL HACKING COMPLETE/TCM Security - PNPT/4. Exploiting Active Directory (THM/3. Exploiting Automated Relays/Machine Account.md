---
title: Machine Account
updated: 2023-04-25T08:04:40.0000000+04:00
created: 2023-04-25T08:00:29.0000000+04:00
---

Machine Account
Tuesday, April 25, 2023
8:00 AM
All Windows hosts have a machine account. Essentially, this is the user account associated with the machine. Unless someone tampered with the account of the host, the passwords of these accounts are uncrackable. By default, they are 120 characters (UTF16) long and are automatically rotated every 30 days.

In AD, these machine accounts are used quite a bit in different services. Different domain controllers use their machine accounts to synchronise AD updates and changes. When you request a certificate on behalf of the host you are working on, the machine account of that host is used for authentication to the AD Certificate Service.

There is an exceptional case in AD, where one machine has admin rights over another machine. Essentially in the AD configuration, administrative permissions over a host have been granted to another host. Again, this is expected functionality such as domain controllers or SQL clusters that must be synchronised. However, these instances provide a very interesting attack vector for coercing authentication.

We first need to identify cases where a machine account has administrative access over another machine. We can use Bloodhound for this, but it means we will have to write some custom cypher queries.

### Click the "Create Custom Query" in the Analysis tab in Bloodhound:

![image1](image1-124.png)

| Query | MATCH p=(c1:Computer)-\[r1:MemberOf\*1..\]-\>(g:Group)-\[r2:AdminTo\]-\>(n:Computer) RETURN p |
|-------|-----------------------------------------------------------------------------------------------|

![image2](image2-62.png)
