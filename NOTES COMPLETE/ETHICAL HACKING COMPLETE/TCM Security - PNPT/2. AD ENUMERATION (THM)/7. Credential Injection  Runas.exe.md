
	You can get incredibly far doing AD enumeration from a Kali machine. Still, if you genuinely want to do in-depth enumeration and even exploitation, you need to understand and mimic your enemy. Thus, you need a Windows machine. This will allow us to use several built-in methods to stage our enumeration and exploits. In this network, we will explore one of these built-in tools, called therunas.exebinary.

- Runas is useful when you found a set of AD credentials and don't have anywhere to test them.

- If we have the AD credentials in the format of:, we can use Runas, a legitimate Windows binary, to inject the credentials into memory. The usual Runas command would look something like this

### Command

```kali linux
runas.exe /netonly /user:<domain>\<username> cmd.exe
```

## Let's look at the parameters

```markdown
- **/netonly**- Since we are not domain-joined, we want to load the credentials for network authentication but not authenticate against a domain controller. So commands executed locally on the computer will run in the context of your standard Windows account, but any network connections will occur using the account specified here.
- **/user**- Here, we provide the details of the domain and the username. It is always a safe bet to use the Fully Qualified Domain Name (FQDN) instead of just the NetBIOS name of the domain since this will help with resolution.
- **cmd.exe**- This is the program we want to execute once the credentials are injected. This can be changed to anything, but the safest bet is cmd.exe since you can then use that to launch whatever you want, with the credentials injected.
```

## Whats next?

```markdown
- After providing the password, we still need to verify that our credentials are working by listing the SYSVOL.
- AnyADaccount, no matter how low-privileged, can read the contents of the SYSVOL directory.
```

![image1](image1-68.png)

## Testing DNS

![image2](image2-32.png)

## Listing the SYSVOL Directory

![image3](image3-22.png)

## Using Injected Credentials

![image4](image4-15.png)

